\doxysection{Webserver\+Client.\+hpp}
\hypertarget{_webserver_client_8hpp_source}{}\label{_webserver_client_8hpp_source}\index{headers/WebserverClient.hpp@{headers/WebserverClient.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ \ \ \ Author:\ Sumeet\ Singh}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ \ \ \ Dated:\ 14/02/2024}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ \ \ \ Minimum\ C++\ Standard:\ C++17}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ \ \ \ Purpose:\ Declaration\ file}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ \ \ \ License:\ MIT\ License}}
\DoxyCodeLine{00007\ \textcolor{comment}{*/}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#pragma\ clang\ diagnostic\ push}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#pragma\ clang\ diagnostic\ ignored\ "{}-\/Wdeprecated-\/declarations"{}}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#ifdef\ \_WIN32}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ <winsock2.h>}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ <arpa/inet.h>}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <netinet/in.h>}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ <boost/asio.hpp>}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00107\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_webserver_client}{WebserverClient}}}
\DoxyCodeLine{00108\ \{}
\DoxyCodeLine{00109\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{keywordtype}{bool}\ successResponse\{\};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00111\ \ \ \ \ std::string\ queryURL\{\};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00112\ \ \ \ \ std::string\ queryProtocol\{\};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00113\ \ \ \ \ boost::asio::io\_context\ io\_context\{\};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00114\ \ \ \ \ boost::asio::ip::tcp::resolver\ resolver\{io\_context\};\ }
\DoxyCodeLine{00115\ \ \ \ \ boost::asio::ip::tcp::socket\ socket\{io\_context\};\ \ \ \ \ }
\DoxyCodeLine{00116\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00126\ \ \ \ \ \mbox{\hyperlink{class_webserver_client_af4702e3de99a389b5f57bec4ba9a0f5a}{WebserverClient}}()}
\DoxyCodeLine{00127\ \ \ \ \ \{}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Constructed:\ WebserverClient"{}}\ <<\ std::endl;}
\DoxyCodeLine{00129\ \ \ \ \ \}}
\DoxyCodeLine{00133\ \ \ \ \ \mbox{\hyperlink{class_webserver_client_a5c2d0cfddd87bcab612e92ecba7dd98c}{\string~WebserverClient}}()}
\DoxyCodeLine{00134\ \ \ \ \ \{}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Deconstructed:\ WebserverClient"{}}\ <<\ std::endl;}
\DoxyCodeLine{00136\ \ \ \ \ \}}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_webserver_client_a3d2e15ff5e2dcc2fdb9866ee2d839cb6}{response\_success}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ successResponse;}
\DoxyCodeLine{00143\ \ \ \ \ \}}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_webserver_client_ab86c9a74b69c36e20bd7dcd499966c61}{login\_account}}(std::string\ username,\ std::string\ password)}
\DoxyCodeLine{00160\ \ \ \ \ \{}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Form\ data}}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ queryURL\ =\ \textcolor{stringliteral}{"{}agnisamooh.com"{}};}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ queryProtocol\ =\ \textcolor{stringliteral}{"{}http"{}};}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Form\ request\ payload}}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ POSTData\ =\ \textcolor{stringliteral}{"{}login-\/username="{}}\ +\ username\ +}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\&login-\/password="{}}\ +\ password;}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Create\ request}}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ request\ =\ \textcolor{stringliteral}{"{}POST\ /website/signup.html\ HTTP/1.1\(\backslash\)r\(\backslash\)n"{}}}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Host:\ agnisamooh.com\(\backslash\)r\(\backslash\)n"{}}}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Content-\/Type:\ application/x-\/www-\/form-\/urlencoded\(\backslash\)r\(\backslash\)n"{}}}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Content-\/Length:\ "{}}\ +}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::to\_string(POSTData.length())\ +\ \textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n\(\backslash\)r\(\backslash\)n"{}}\ +}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ POSTData;}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Connect\ to\ endpoint}}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \ \ \ \ boost::asio::ip::tcp::resolver::results\_type\ endpoints\ =\ resolver.resolve(queryURL,\ queryProtocol);}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ \ \ boost::asio::connect(socket,\ endpoints);}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Send\ the\ request}}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \ \ \ \ boost::asio::write(socket,\ boost::asio::buffer(request.data(),\ request.size()));}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Read\ the\ response}}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \ \ \ \ boost::asio::streambuf\ response;}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \ \ \ \ boost::asio::read\_until(socket,\ response,\ \textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}});}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Output\ the\ response}}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ \ \ std::istream\ responseStream(\&response);}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ httpVersion\{\};}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \ \ \ \ responseStream\ >>\ httpVersion;}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ statusCode\{\};}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \ \ \ \ responseStream\ >>\ statusCode;}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ statusMessage\{\};}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \ \ \ \ std::getline(responseStream,\ statusMessage);}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!responseStream\ ||\ httpVersion.substr(0,\ 5)\ !=\ \textcolor{stringliteral}{"{}HTTP/"{}})}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}Error:\ Invalid\ server\ response"{}}\ <<\ std::endl;}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (statusCode\ !=\ 200)}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}Error:\ Incorrect\ response\ code\ "{}}\ <<\ statusCode\ <<\ std::endl;}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Search\ for\ the\ word\ "{}pass"{}\ or\ "{}fail"{}\ in\ the\ response\ line\ by\ line}}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ line;}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ success\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (std::getline(responseStream,\ line))}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ line\ <<\ std::endl;\ \textcolor{comment}{//\ Print\ the\ response\ line}}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (line.find(\textcolor{stringliteral}{"{}pass"{}})\ !=\ std::string::npos)}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ successResponse\ =\ \textcolor{keyword}{true};\ }
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (line.find(\textcolor{stringliteral}{"{}fail"{}})\ !=\ std::string::npos)}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ successResponse\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \ \ \ \ socket.close();}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}\ (std::exception\ \&e)}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}Error:\ Exception:\ "{}}\ <<\ e.what()\ <<\ std::endl;}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00232\ \ \ \ \ \}}
\DoxyCodeLine{00233\ }
\DoxyCodeLine{00248\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_webserver_client_a09d7b2426e142089c1c874f0994c5e27}{create\_account}}(std::string\ username,\ std::string\ email,\ std::string\ password)}
\DoxyCodeLine{00249\ \ \ \ \ \{}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Form\ data}}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ queryURL\ =\ \textcolor{stringliteral}{"{}agnisamooh.com"{}};}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ queryProtocol\ =\ \textcolor{stringliteral}{"{}http"{}};}
\DoxyCodeLine{00255\ }
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Form\ request\ payload}}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ POSTData\ =\ \textcolor{stringliteral}{"{}register-\/username="{}}\ +\ username\ +}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\&register-\/email="{}}\ +\ email\ +}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\&register-\/password="{}}\ +\ password;}
\DoxyCodeLine{00260\ }
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Create\ request}}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ request\ =\ \textcolor{stringliteral}{"{}POST\ /website/signup.html\ HTTP/1.1\(\backslash\)r\(\backslash\)n"{}}}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Host:\ agnisamooh.com\(\backslash\)r\(\backslash\)n"{}}}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Content-\/Type:\ application/x-\/www-\/form-\/urlencoded\(\backslash\)r\(\backslash\)n"{}}}
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Content-\/Length:\ "{}}\ +}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::to\_string(POSTData.length())\ +\ \textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n\(\backslash\)r\(\backslash\)n"{}}\ +}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ POSTData;}
\DoxyCodeLine{00268\ }
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Connect\ to\ endpoint}}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \ \ \ \ boost::asio::ip::tcp::resolver::results\_type\ endpoints\ =\ resolver.resolve(queryURL,\ queryProtocol);}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \ \ \ \ boost::asio::connect(socket,\ endpoints);}
\DoxyCodeLine{00272\ }
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Send\ the\ request}}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ \ \ \ \ boost::asio::write(socket,\ boost::asio::buffer(request.data(),\ request.size()));}
\DoxyCodeLine{00275\ }
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Read\ the\ response}}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \ \ \ \ boost::asio::streambuf\ response;}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \ \ \ \ boost::asio::read\_until(socket,\ response,\ \textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}});}
\DoxyCodeLine{00279\ }
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Output\ the\ response}}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \ \ \ \ std::istream\ responseStream(\&response);}
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ httpVersion\{\};}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ \ \ \ \ responseStream\ >>\ httpVersion;}
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ statusCode\{\};}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ \ \ \ \ responseStream\ >>\ statusCode;}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ statusMessage\{\};}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \ \ \ \ std::getline(responseStream,\ statusMessage);}
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!responseStream\ ||\ httpVersion.substr(0,\ 5)\ !=\ \textcolor{stringliteral}{"{}HTTP/"{}})}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}Error:\ Invalid\ server\ response"{}}\ <<\ std::endl;}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (statusCode\ !=\ 200)}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}Error:\ Incorrect\ response\ code\ "{}}\ <<\ statusCode\ <<\ std::endl;}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00298\ }
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Search\ for\ the\ word\ "{}pass"{}\ or\ "{}fail"{}\ in\ the\ response\ line\ by\ line}}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ line;}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ success\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (std::getline(responseStream,\ line))}
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ line\ <<\ std::endl;\ \textcolor{comment}{//\ Print\ the\ response\ line}}
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (line.find(\textcolor{stringliteral}{"{}pass"{}})\ !=\ std::string::npos)}
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ successResponse\ =\ \textcolor{keyword}{true};\ }
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (line.find(\textcolor{stringliteral}{"{}fail"{}})\ !=\ std::string::npos)}
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00312\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ successResponse\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00314\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ \ \ \ \ socket.close();}
\DoxyCodeLine{00317\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00318\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}\ (std::exception\ \&e)}
\DoxyCodeLine{00319\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}Error:\ Exception:\ "{}}\ <<\ e.what()\ <<\ std::endl;}
\DoxyCodeLine{00321\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00322\ \ \ \ \ \}}
\DoxyCodeLine{00323\ }
\DoxyCodeLine{00324\ \};}
\DoxyCodeLine{00325\ }
\DoxyCodeLine{00326\ \textcolor{preprocessor}{\#pragma\ clang\ diagnostic\ pop}}

\end{DoxyCode}
